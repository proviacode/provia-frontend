<section id="contactanos" class="mt-20 mb-20">
	<div class="max-w-[600px] mx-auto">
		<div class="text-center mb-10">
			<h2 class="text-[clamp(28px,3.2vw,36px)] mb-4 leading-tight font-semibold text-text">
				Contáctanos
			</h2>
			<p class="text-muted text-base leading-relaxed">
				Completa los datos y nos comunicaremos contigo lo antes posible.
			</p>
		</div>

		<div class="bg-card rounded-[20px] p-8 shadow-card max-[720px]:p-6">
			<form id="contactForm" class="space-y-5">
				<!-- Mensaje de éxito/error -->
				<div id="formMessage" class="hidden p-4 rounded-[12px] text-sm font-medium"></div>

				<!-- Nombre completo -->
				<div>
					<label for="nombre" class="block text-sm font-semibold text-text mb-2">
						Nombre completo
						<span class="text-orange-500 ml-1">*</span>
					</label>
					<input
						type="text"
						id="nombre"
						name="nombre"
						required
						class="w-full px-4 py-3 rounded-[12px] border border-gray-200 text-text text-sm focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all"
						placeholder="Ingresa tu nombre completo"
					/>
					<span class="error-message hidden text-xs text-red-500 mt-1"></span>
				</div>

				<!-- Email de contacto -->
				<div>
					<label for="email" class="block text-sm font-semibold text-text mb-2">
						Email de contacto
						<span class="text-orange-500 ml-1">*</span>
					</label>
					<input
						type="email"
						id="email"
						name="email"
						required
						class="w-full px-4 py-3 rounded-[12px] border border-gray-200 text-text text-sm focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all"
						placeholder="ejemplo@correo.com"
					/>
					<span class="error-message hidden text-xs text-red-500 mt-1"></span>
				</div>

				<!-- Número de contacto -->
				<div>
					<label for="telefono" class="block text-sm font-semibold text-text mb-2">
						Número de contacto
						<span class="text-orange-500 ml-1">*</span>
					</label>
					<input
						type="tel"
						id="telefono"
						name="asunto"
						required
						class="w-full px-4 py-3 rounded-[12px] border border-gray-200 text-text text-sm focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all"
						placeholder="Ingresa tu número de contacto"
					/>
					<span class="error-message hidden text-xs text-red-500 mt-1"></span>
				</div>

				<!-- Motivo de contacto -->
				<div class="relative">
					<label for="mensaje" class="block text-sm font-semibold text-text mb-2">
						Escríbenos el motivo de contacto...
					</label>
					<textarea
						id="mensaje"
						name="mensaje"
						required
						rows="5"
						maxlength="200"
						class="w-full px-4 py-3 rounded-[12px] border border-gray-200 text-text text-sm focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all resize-none pr-16"
						placeholder="Escríbenos el motivo de contacto..."
					></textarea>
					<div class="absolute bottom-3 right-3 text-xs text-muted">
						<span id="charCount">0</span>/200
					</div>
					<span class="error-message hidden text-xs text-red-500 mt-1"></span>
				</div>

				<!-- Botón de envío -->
				<button
					type="submit"
					id="submitBtn"
					class="w-full inline-flex items-center justify-center gap-2 px-6 py-3.5 rounded-full border border-transparent font-semibold text-[15px] cursor-pointer transition-all duration-[0.18s] bg-gradient-to-r from-primary to-[#64d5ff] text-white shadow-[0_3px_10px_rgba(30,158,245,0.08)] hover:-translate-y-[1px] hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0"
				>
					<span id="btnText">Enviar mensaje</span>
					<span id="btnLoader" class="hidden">
						<svg class="animate-spin h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
							<circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
							<path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
						</svg>
					</span>
				</button>
			</form>
		</div>
	</div>
</section>

<script>
	// Contador de caracteres para el textarea
	const mensajeField = document.getElementById('mensaje');
	const charCount = document.getElementById('charCount');

	if (mensajeField && charCount) {
		function updateCharCount() {
			const currentLength = mensajeField.value.length;
			charCount.textContent = currentLength;
			
			// Cambiar color si se acerca al límite
			if (currentLength >= 180) {
				charCount.classList.add('text-orange-500');
				charCount.classList.remove('text-muted');
			} else if (currentLength >= 200) {
				charCount.classList.add('text-red-500');
				charCount.classList.remove('text-orange-500', 'text-muted');
			} else {
				charCount.classList.remove('text-orange-500', 'text-red-500');
				charCount.classList.add('text-muted');
			}
		}

		mensajeField.addEventListener('input', updateCharCount);
		updateCharCount(); // Inicializar contador
	}
</script>

