---
import Layout from '../layouts/Layout.astro';
import Soluciones from '../components/soluciones.astro';
import QuienesSomos from '../components/quienes-somos.astro';
import NuestrosServicios from '../components/nuestros-servicios.astro';
import PorqueElegirnos from '../components/porque-elegirnos.astro';
import Contactanos from '../components/contactanos.astro';
import Header from '../components/header.astro';
import Footer from '../components/footer.astro';

const seoTitle = "Provia Consulting | Consultoría Estratégica y Soluciones Integrales en Chile";
const seoDescription = "Consultora integral especializada en educación vial, revisión técnica vehicular y desarrollo de estrategias de negocios. Acompañamos a empresas, organismos y municipios en la modernización de procesos, optimizando la operación para ganar eficiencia, fortalecer la transparencia y habilitar un crecimiento sostenible.";
---

<Layout 
	title={seoTitle}
	description={seoDescription}
	image="/Images/sean-pollock-PhYq704ffdA-unsplash.jpg"
	canonical="/"
>
	<main class="w-full px-4 sm:px-6 md:px-8 lg:px-[80px] pt-0 pb-14">
		<Header />

		<div class="mb-16 sm:mb-24 md:mb-32 -mt-10">
			<Soluciones />
		</div>

		<!-- Sección: ¿Quiénes somos? -->
		<div class="mb-24 sm:mb-32 md:mb-48 mt-16 sm:mt-24 md:mt-56">
			<QuienesSomos />
		</div>

		<!-- Sección: Nuestros servicios -->
		<div class="mb-16 sm:mb-20 md:mb-24 mt-12 sm:mt-16 md:mt-24">
			<NuestrosServicios />
		</div>

		<!-- Sección: ¿Por qué elegirnos? -->
		<div class="mb-16 sm:mb-20 md:mb-24">
			<PorqueElegirnos />
		</div>

		<!-- Sección: Contáctanos -->
		<div class="mb-16 sm:mb-20 md:mb-24">
			<Contactanos />
		</div>
	</main>
	<Footer />
</Layout>

<script>
	// Carousel functionality
	const carousel = document.getElementById('servicesCarousel');
	const prevBtn = document.getElementById('prevBtn');
	const nextBtn = document.getElementById('nextBtn');
	const indicators = document.querySelectorAll('.carousel-indicator');
	
	let currentIndex = 0;
	const totalSlides = 3;

	function updateCarousel() {
		if (carousel) {
			const offset = -currentIndex * 100;
			carousel.style.transform = `translateX(${offset}%)`;
		}
		
		// Update indicators
		indicators.forEach((indicator, index) => {
			if (index === currentIndex) {
				indicator.classList.remove('bg-gray-300');
				indicator.classList.add('bg-primary');
			} else {
				indicator.classList.remove('bg-primary');
				indicator.classList.add('bg-gray-300');
			}
		});
	}

	if (prevBtn) {
		prevBtn.addEventListener('click', () => {
			currentIndex = (currentIndex - 1 + totalSlides) % totalSlides;
			updateCarousel();
		});
	}

	if (nextBtn) {
		nextBtn.addEventListener('click', () => {
			currentIndex = (currentIndex + 1) % totalSlides;
			updateCarousel();
		});
	}

	// Indicadores clickeables
	indicators.forEach((indicator) => {
		indicator.addEventListener('click', () => {
			const index = parseInt(indicator.getAttribute('data-index') || '0');
			currentIndex = index;
			updateCarousel();
		});
	});

	// Optional: Auto-play
	// setInterval(() => {
	// 	currentIndex = (currentIndex + 1) % totalSlides;
	// 	updateCarousel();
	// }, 5000);
</script>

<script src="/scripts/contact-form.js" is:inline></script>
